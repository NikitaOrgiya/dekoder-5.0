# dekoder-5.0
Простой и быстрый декодер видео в формате H.264, написанный на языке C. Он умеет декодировать видеопоток и сохранять отдельные кадры в файлы BMP, PNG или JPEG. Программа поддерживает разные форматы цвета (YUV 4:2:0, 4:2:2, 4:4:4), чередующееся видео, метаданные (VUI) и использует оптимизации для скорости (многопоточность и SSE2).
Возможности

Декодирует видеопотоки H.264 в изображения в форматах BMP, PNG или JPEG.
Поддерживает несколько профилей H.264 (Baseline, High, Interlaced).
Использует оптимизации SSE2 для повышения производительности на архитектурах x86.
Позволяет настраивать формат вывода через аргументы командной строки.
Включает обработку ошибок и ведение логов для отладки.

Установка
Необходимые компоненты

Операционная система: Windows, Linux или macOS.
Компилятор: GCC, Clang или MSVC (Visual Studio).
CMake: Версия 3.10 или выше.
Библиотеки (опционально, для вывода в PNG/JPEG):

libpng-dev (Linux: sudo apt install libpng-dev, macOS: brew install libpng, Windows: через vcpkg).
libjpeg-dev (Linux: sudo apt install libjpeg-dev, macOS: brew install libjpeg-turbo, Windows: через vcpkg).
Если используется только BMP, эти библиотеки можно исключить.



Инструкции по сборке

Склонируйте репозиторий или распакуйте файлы проекта в директорию (например, E:\projects\decoder5.0).
Откройте терминал (например, x86 Native Tools Command Prompt для VS 2022 в Windows).
Перейдите в директорию проекта:
textcd "E:\projects\decoder5.0"

Создайте директорию сборки и войдите в неё:
textmkdir build
cd build

Сгенерируйте файлы сборки с помощью CMake:
textcmake -G "NMake Makefiles" ..

Для Visual Studio используйте -G "Visual Studio 17 2022" -A Win32 вместо этого.


Соберите проект:
textnmake

Или используйте make на Linux/macOS, или выполните сборку в Visual Studio.


Исполняемый файл dekoder.exe (Windows) или dekoder (Linux/macOS) будет создан в директории build.

Использование
Аргументы командной строки
textdekoder <входной_файл.h264> <номер_кадра> <выходной_файл> <формат>

<входной_файл.h264>: Путь к файлу видеопотока H.264.
<номер_кадра>: Номер кадра для декодирования (например, 0 для первого кадра).
<выходной_файл>: Имя выходного файла изображения (например, output.bmp).
<формат>: Формат вывода (bmp, png или jpeg).

Пример
Декодирование первого кадра из foreman_cif.h264 в output.bmp:
textdekoder "..\foreman_cif.h264" 0 output.bmp bmp

Тестирование:
Скачайте тестовые файлы H.264 с сайта https://www.itu.int/net/itu-t/sigdb/video/VideoForm-s.aspx?val=1020264 (например, foreman_cif.h264).
Запустите декодер и откройте выходной файл в просмотрщике изображений (например, Paint, GIMP).

Участие в разработке
Пулы запросов приветствуются! Следуйте этим рекомендациям:

Откройте обсуждение в разделе Issues перед внесением крупных изменений.
Убедитесь, что код соответствует существующему стилю (C99, отступы 4 пробела).
Добавляйте или обновляйте тесты при необходимости.
Отправляйте изменения через пул запрос с чётким описанием.

ИЗВЕСТНЫЕ ПРОБЛЕМЫ:
Вывод в PNG/JPEG требует библиотек libpng и libjpeg; сборка завершится с ошибкой, если они отсутствуют, если не настроить только BMP.
Декодирование может завершиться неудачей с повреждёнными или неподдерживаемыми H.264-потоками (подробности в логах).
